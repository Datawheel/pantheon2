@import '../common/typography';
@import '../common/colors';

.home {

  & .navigation {
    & .items {
      max-width: 590px;

      & .item {
        flex: 0 1 auto;
        padding: 8px;
        min-width: auto;
      }

      @media (min-width: 751px) and (max-width: 990px) {
        margin: 0 auto;
        max-width: 590px;
      }

      & .item.home-link {
        display: none;
      }

      & .search-btn {
        display: none;
      }
    }
  }

  & .home-container {
    width: 100%;
  }

  & .home-head {
    margin: 0 auto;
    padding: 120px 0 30px;
    text-align: center;

    & h1 {
      margin: 0 auto;

      & img {
        width: 266px;
      }
    }

    & h3 {
      @apply --smallCaps;
      font-size: 14px;
      letter-spacing: 2.2px;
      margin: 5px auto 25px;
    }
  }

  & .home-search {
    position: relative;
    max-width: 266px;
    margin: 0 auto;
    text-align: left;

    & img {
      position: absolute;
      width: 16px;
      margin: 5px;
      opacity: 0.4;
    }

    & input {
      width: 100%;
      padding: 5px 28px 7px;
      border: 0;
      border-bottom: 1px solid var(--colorMatza);
      box-sizing: border-box;
      background: none;
      @apply --normal;
      line-height: 1;

      &::placeholder {
        @apply --normal;
        letter-spacing: 0.5px;
      }

      &:active, &:focus {
        outline: none;
      }
    }
  }

  & .home-body {
    margin-bottom: 60px;
  }

  & .post {
    @apply --bodyText;
    width: 62%;
    min-width: 335px;
    max-width: 590px;
    margin: 0 auto 30px;
    padding: 0;
    z-index: 1;

    & a {
      @apply --bodyLink;
      font-weight: 400;
    }

    & span {
      color: var(--colorTan);
      font-style: italic;
    }
  }

  & .viz-container {
    position: relative;
    width: 100%;
    margin: -200px auto 100px;
  }

  & .viz {
  }

  & .legend-title {
    text-align: center;
    margin: 0 auto 5px;
    @apply --smallCaps;
    font-weight: 700;
  }

  & .timeline-container {
    position: absolute;
    bottom: 0;
    height: 100%;
    width: 100%;
    padding: 0 16px 70px 65px;

    & .items {
      position: relative;
      height: 100%;
      width: 100%;
    }

    & .era {
      position: absolute;
      bottom: 60px;
      height: 80.5%;
      z-index: 3;

      &::after {
        content: "";
        border-right: 1px solid var(--colorMatza);
        position: absolute;
        margin: 60px 14px 0;
        height: 100%;
        right: 0;
        top: 0;
      }

      & p {
        position: relative;
        height: 16px;
        @apply --smallCaps;
        margin-bottom: 0;

        & a {
          @apply --bodyLink;
          font-weight: 400;
          &:hover {
            border-bottom: 0 !important;
            opacity: 0.6;
          }
        }
      }

      & .era-img {
        background-size: contain;
        background-position: 0% 0%;
        background-blend-mode: multiply;
        background-color: var(--colorEggshell);
        background-repeat: no-repeat;
        min-height: 60px;
        max-width: 100px;
      }

      &.computer {
        right: 1.28%;
        height: 380px;

        & .era-img {
          background-image: url("../../images/home/smartphone.png");
          width: 60px;
        }
        & p {
          left: 52px;
          top: -50px;
        }
      }

      &.television {
        right: 11.5%;
        height: 500px;

        & .era-img {
          margin-left: 100px;
          background-image: url("../../images/home/tv.png");
          width: 76px;
        }
        & p {
          left: 182px;
          top: -50px;
        }
      }

      &.film-radio {
        right: 21.20%;
        height: 300px;

        & .era-img {
          margin-left: 25px;
          background-image: url("../../images/home/film.png");
          width: 50px;
        }
        & p {
          left: 78px;
          top: -40px;
        }
      }

      &.newspaper {
        right: 40.25%;
        height: 150px;

        & .era-img {
          margin-left: 25px;
          background-image: url("../../images/home/news.png");
          width: 77px;
        }
        & p {
          left: 105px;
          top: -60px;
        }
      }

      &.printing {
        right: 51.28%;
        height: 250px;

        & .era-img {
          margin-left: 25px;
          background-image: url("../../images/home/printing.png");
          width: 77px;
        }
        & p {
          left: 105px;
          top: -60px;
        }
      }

      &.scribal {
        right: 82.51%;
        height: 80px;

        & .era-img {
          margin-left: 75px;
          background-image: url("../../images/home/scribal.png");
          width: 65px;
        }
        & p {
          left: 140px;
          top: -40px;
        }
      }
    }
  }

  & .floating-content {
    position: absolute;
    top: 0;
    width: 100vw;
    overflow-x: hidden;
    height: 100%;
    left: 0;
    right: 0;
    z-index: -2;

    & .box {
      display: block;
      position: absolute;
      bottom: -145px;
      animation: float 20s ease-in 10s infinite;
      z-index: -2;
    }

    &.l-1 {
      & .box {
        width: 145px;
        height: 145px;
        border: 1px solid var(--colorCardboard);

        &:first-child {
          left: -20px;
        }
        &:nth-child(1) {
          left: 240px;
          animation: float 40s ease-in 1s infinite;
        }
        &:nth-child(2) {
          left: 480px;
          animation: float 28s ease-in 0s infinite;
        }
        &:nth-child(3) {
          left: 640px;
          animation: float 36s ease-in 2s infinite;
        }
        &:last-child {
          right: -60px;
          animation: float 32s ease-in 3s infinite;
        }
      }
    }

    &.l-2 {
      & .box {
        width: 75px;
        height: 75px;
        border: 1px solid var(--colorLint);

        &:first-child {
          left: 30px;
          animation: float 14s ease-in 0s infinite;
        }
        &:nth-child(1) {
          left: 700px;
          animation: float 20s ease-in 4s infinite;
        }
        &:nth-child(2) {
          left: 160px;
          animation: float 18s ease-in 2s infinite;
        }
        &:nth-child(3) {
          left: 340px;
          animation: float 16s ease-in 8s infinite;
        }
        &:last-child {
          right: 30px;
          animation: float 22s ease-in 3s infinite;
        }
      }
    }
  }

  & .ia {
    @apply --themeDark;
    width: 100%;
    padding: 30px 0 45px;
    text-align: center;
    margin-bottom: 60px;

    & img {
      max-width: 950px;
      display: block;
      margin: 0 auto;
    }
  }

  & .flying-plane {
    width: 100px;
    height: 50px;
    background-image: url("../../images/home/plane.png");
    background-repeat: no-repeat;
    background-size: contain;
    background-position: 100% 0%;
    background-blend-mode: multiply;
    background-color: var(--colorEggshell);
    z-index: -1;
    position: absolute;
    top: 20px;
    left: -120px;
    animation: fly 20s linear 1s infinite, shake 1.64s linear infinite;
    transform: translate3d(0,0,0) rotate(0deg);
    perspective: 1000px;
    backface-visibility: hidden;
  }
}

@keyframes float {
  from {bottom: -150px;}
  to {bottom: 1000px;}
}

@keyframes fly {
  from {left: -120px; top: 20px;}
  to {left: 102vw; top: 110px;}
}

@keyframes shake {
  10%, 50%, 90% {
    transform: translate3d(-1px, 0, 0) rotate(-2deg);
  }

  20% {
    transform: rotate(-1deg);
  }

  30%, 70% {
    transform: translate3d(1px, -1px, 0) rotate(-2deg);
  }
}
